<ui:composition template="../layouts/layoutInterior.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions">

		<ui:define name="content">	
				

				<h:form id="listaUsuarios" >

				<div class="resultadosFiltro">

				<p:dataTable id="usuariosTotales" var="usuario"
								value="#{businessmanBean.usuarioList}"
								paginator="true" rows="10"
								selection="#{businessmanBean.usuariosSelecionados}"
								rowKey="#{usuario.id}">
								<f:facet name="header">
						            Usuarios
						        </f:facet>
								<p:column selectionMode="multiple"
									style="width:16px;text-align:center" />
					
				<p:column headerText="ID"  width="70" sortBy="#{usuario.id}" filterBy="#{usuario.id}" filterMatchMode="contains">
					<h:outputText value="#{usuario.id}" />
				</p:column>
				<p:column headerText="Fecha CreaciÃ³n"   sortBy="#{usuario.fechaCreacion}" width="120" filterBy="#{usuario.fechaCreacion}" filterMatchMode="contains">
					<h:outputText value="#{usuario.fechaCreacion}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="Europe/Madrid"/>
					</h:outputText>
				</p:column>
				<p:column headerText="Nombre" sortBy="#{usuario.name}" filterBy="#{usuario.name}" filterMatchMode="contains">
					<h:outputText value="#{usuario.name}" />
				</p:column>
				<p:column headerText="CORREO" sortBy="#{usuario.username}" width="220" filterBy="#{usuario.username}" filterMatchMode="contains">
					<h:outputText value="#{usuario.username}" />	
				</p:column>
				<p:column headerText="NIF" sortBy="#{usuario.nif}" width="120" filterBy="#{usuario.nif}" filterMatchMode="contains">
					<h:outputText value="#{usuario.nif}" />	
				</p:column>

       <f:facet name="footer">
            <p:commandButton process="usuariosTotales" action ="#{alertaBean.enviarAlertaUsuarios(businessmanBean.usuariosSelecionados)}" value="Enviar Alerta Usuarios"/>
        </f:facet>
			</p:dataTable>
    			              <div class="botonesFormulario">

								<p:button outcome="users/users"
									value="Cancelar" icon="fa fa-fw fa-undo" />
							</div>
		
          </div>

    </h:form>

	</ui:define>
	
</ui:composition>

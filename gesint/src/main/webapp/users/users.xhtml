<ui:composition template="../layouts/layoutInterior2.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui" xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:my="http://java.sun.com/jsf/composite/composites" xmlns:fmt="http://java.sun.com/jsp/jstl/fmt">
<ui:define name="content">
<p:importConstants type="ro.stad.online.gesint.constante.NumarMagic" var="NumeroMagic" />
<p:tabView id="tabDatosUsuarios" dynamic="true" cache="true" effect="fold">	   
   <p:tab title="Membri/ Simpatizanți" id="membriSimpatizanti">
     <h:panelGrid columns="2" cellpadding="10">
       <h:form id="formUser">
        <p:importConstants type="ro.stad.online.gesint.constante.NumarMagic" var="NumeroMagic" />       
        <div class="filtru">
            <div class="blocFormular">
                <div class="titluFormular">Filtre căutare</div>                                 
                <div class="ui-g coloanaCautare">
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <h:outputLabel for="idCard"  styleClass="cautator" value="CNP:" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <p:inputText id="idCard" converter="#{trimConverter}" value="#{userBean.filtruUtilizator.idCard}" />
                        </div>
                </div>
                <div class="ui-g coloanaCautare">
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <h:outputLabel for="name" styleClass="cautator" value="Nume (Numele de familie):" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <p:inputText id="name" converter="#{trimConverter}" value="#{userBean.filtruUtilizator.nume}" />
                        </div>
                </div>
                <div class="ui-g coloanaCautare">
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <h:outputLabel for="lastName" styleClass="cautator" value="Prenume:" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <p:inputText id="lastName" converter="#{trimConverter}" value="#{userBean.filtruUtilizator.prenume}" />
                        </div>
                </div>
                <div class="ui-g coloanaCautare">
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <h:outputLabel for="email" styleClass="cautator" value="Email:" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <p:inputText id="email" converter="#{trimConverter}" value="#{userBean.filtruUtilizator.email}" />
                        </div>
                </div>
                <div class="ui-g coloanaCautare" >
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <h:outputLabel for="role" value="Rol:" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <p:importEnum type="ro.stad.online.gesint.persistence.entities.enums.RolEnum" var="roles" allSuffix="ALL_ENUM_VALUES" />
                                <p:selectOneMenu value="#{userBean.filtruUtilizator.role}" id="role" class="selectFiltru" style="min-width:initial;" >
                                        <f:selectItem itemLabel="Alege unul..." itemValue="" />
                                        <f:selectItems value="#{roles.ALL_ENUM_VALUES}" var="roleUser" itemLabel="#{roleUser.description}" itemValue="#{roleUser}" />
                                </p:selectOneMenu>
                        </div>
                </div>          
                <div class="ui-g coloanaCautare">
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <h:outputLabel for="sex" value="Sex:" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                         <p:importEnum type="ro.stad.online.gesint.persistence.entities.enums.SexEnum" var="sexs" allSuffix="ALL_ENUM_VALUES" />
                            <p:selectOneMenu value="#{userBean.filtruUtilizator.sex}" id="sex" class="selectFiltru" style="min-width:initial;" >
                               <f:selectItem itemLabel="Alege unul..." itemValue="" />
                               <f:selectItems value="#{sexs.ALL_ENUM_VALUES}" var="sexUser" itemLabel="#{sexUser.description}" itemValue="#{sexUser}" />
                           </p:selectOneMenu>
                        </div>
                </div>                                  
                <div class="ui-g coloanaCautare">
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                                <h:outputLabel for="civilStatus" value="Starea civilă:" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-6">
                           <p:importEnum type="ro.stad.online.gesint.persistence.entities.enums.StatutCivilEnum" var="civilStats" allSuffix="ALL_ENUM_VALUES" />
                             <p:selectOneMenu value="#{userBean.filtruUtilizator.statutCivil}" id="civilStatus" class="selectFiltru" style="min-width:initial;" >
                                <f:selectItem itemLabel="Alege unul..." itemValue="" />
                                <f:selectItems value="#{civilStats.ALL_ENUM_VALUES}" var="civilStatusUser" itemLabel="#{civilStatusUser.description}" itemValue="#{civilStatusUserUser}" />
                            </p:selectOneMenu>
                        </div>
                </div>
                <div class="ui-g coloanaCautare">
                   <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <h:outputLabel for="typeLocality" value="Tipul localității:" />
                   </div>
                   <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <p:importEnum type="ro.stad.online.gesint.persistence.entities.enums.TipLocalitateEnum" var="typeLocalitys" allSuffix="ALL_ENUM_VALUES" />
                           <p:selectOneMenu value="#{userBean.filtruUtilizator.tipLocalitate}" id="typeLocality" class="selectFiltru" style="min-width:initial;" >
                            <f:selectItem itemLabel="Alege unul..." itemValue="" />
                            <f:selectItems value="#{typeLocalitys.ALL_ENUM_VALUES}" var="typeLocalityUser" itemLabel="#{typeLocalityUser.description}" itemValue="#{typeLocalityUser}" />
                        </p:selectOneMenu>
                  </div>
                </div>
                <div class="ui-g coloanaCautare">
                   <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <h:outputLabel for="educatie" value="Nivel de educație:" />
                   </div>
                   <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <p:importEnum type="ro.stad.online.gesint.persistence.entities.enums.EducatieEnum" var="educaties" allSuffix="ALL_ENUM_VALUES" />      
                        <p:selectCheckboxMenu id="educatie" multiple="true"  value="#{userBean.filtruUtilizator.listaEducatie}" panelStyleClass="hideDisabled"
                        class="selectFiltru" style="min-width:initial;" label="Alege unul" filter="true" filterMatchMode="startsWith">
			            <f:selectItems value="#{educaties.ALL_ENUM_VALUES}" var="educatieUser" itemLabel="#{educatieUser.description}" itemValue="#{educatieUser}" />
			</p:selectCheckboxMenu>
                        
                   </div>
                </div>
                <div class="ui-g coloanaCautare" rendered="#{userBean.filaActiva == 'membriSimpatizanti'}">
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                <h:outputLabel for="eliminado" value="Eliminaţi:" />
                  </div>
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <p:selectOneMenu class="selectFiltru" id="eliminado" value="#{userBean.filtruUtilizator.eliminat}">
                          <f:selectItem itemLabel="TOŢI" itemValue="" />
                          <f:selectItem itemLabel="ACTIVI" itemValue="NO" />
                          <f:selectItem itemLabel="ELIMINAŢI" itemValue="SI" />
                        </p:selectOneMenu>
                  </div>
                </div>
                <div class="ui-g coloanaCautare" rendered="#{userBean.filaActiva == 'membriSimpatizanti'}">
                   <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <h:outputLabel for="validated" value="Blocaţi/Neblocaţi:" />
                   </div>
                   <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <p:selectOneMenu class="selectFiltru" id="validated" value="#{userBean.filtruUtilizator.validat}">
                           <f:selectItem itemLabel="TOŢI" itemValue="" />
                           <f:selectItem itemLabel="NEBLOCAŢI" itemValue="true" />
                           <f:selectItem itemLabel="BLOCAŢI" itemValue="false" />
                        </p:selectOneMenu>
                   </div>
                </div>                                  
                <div class="ui-g coloanaCautare">
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <h:outputLabel for="judeteSelectate" styleClass="cautator" value="Județul:" />
                  </div>
                  <div class="ui-g-12 ui-md-6 ui-lg-6">                                                 
                      <p:selectCheckboxMenu id="judeteSelectate"   multiple="true"  value="#{userBean.filtruUtilizator.listaIdJudet}" panelStyleClass="hideDisabled"
                        class="selectFiltru" style="min-width:initial;" label="Alege unul" filter="true" filterMatchMode="startsWith" >
                             <f:selectItems  value="#{userBean.judete}"  var="provincia" itemLabel="#{provincia.nume}"  itemValue="#{provincia.indicator}" />
                              <p:ajax event="change" update="locality" listener="#{userBean.actualizareLocalitati(userBean.filtruUtilizator.listaIdJudet)}" /> 
                        </p:selectCheckboxMenu>
                  </div>
                </div>
                <div class="ui-g coloanaCautare">
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <h:outputLabel for="locality" styleClass="cautator" value="Localitatea:" />
                  </div>
                  <div class="ui-g-12 ui-md-6 ui-lg-6">                                                 
                         <p:selectCheckboxMenu id="locality"   multiple="true"  value="#{userBean.filtruUtilizator.listaIdLocalitate}" panelStyleClass="hideDisabled"
                        class="selectFiltru" style="min-width:initial;" label="Alege unul" filter="true" filterMatchMode="startsWith" >
                             <f:selectItems  value="#{userBean.localitati}" var="locality"  itemLabel="#{locality.nume}" itemValue="#{locality.nume}" />  
                        </p:selectCheckboxMenu> 
                  </div>                                                
                </div>
                <div class="ui-g coloanaCautare">
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <h:outputLabel for="dateFrom" value="Data înregistrării începând:" />
                  </div>
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <p:calendar id="dateFrom" pattern="dd/MM/yyyy" locale="ro" navigator="true" maxdate="#{currentDate}" value="#{userBean.filtruUtilizator.dateFrom}" />
                  </div>
                </div>
                <div class="ui-g coloanaCautare">
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <h:outputLabel for="dateUntil" value="Data înregistrării până:" />
                  </div>
                  <div class="ui-g-12 ui-md-6 ui-lg-6">
                        <p:calendar id="dateUntil" pattern="dd/MM/yyyy" locale="ro" navigator="true" maxdate="#{currentDate}" value="#{userBean.filtruUtilizator.dateUntil}" />
                  </div>
                </div>
           </div>
           <div class="butoaneFormular">
                <p:commandButton action="#{userBean.curatareCautare}" class="left" value="Curățare filtre" update="formUser" icon="fa fa-eraser" />
                <p:commandButton id="cautareButon" value="Căutare" actionListener="#{userBean.cautareUtilizator}" update="userTable" icon="fa fa-search"
                oncomplete="$('.mesajeFaraRezultate').css('opacity', 1)" onstart="PF('statusDialog').show()" class="right" onsuccess="PF('statusDialog').hide()"/>
                <p:commandButton value="Nou membru" styleClass="newActionTable"   action="#{userBean.getFormInregistrareUtilizator}"  icon="fa fa-user-plus"/>
         </div>
        </div>
        <div class="rezultateFiltru">
                <p:outputPanel layout="block" id="userPanel">
                   <p:dataTable var="user" value="#{userBean.model}"  rows="15" id="userTable"  draggableColumns="true" 
                        paginator="true" lazy="true" resizableColumns="true"  sortOrder="descending" styleClass="modHeaderTable"
                        paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
                        rowKey="#{user.username}" rowsPerPageTemplate="10,25,50" pageLinks="4" paginatorPosition="bottom"
                        emptyMessage="Nu există niciun rezultat care să corespundă parametrilor căutării dvs." paginatorAlwaysVisible="false">
                        <f:facet name="header">
                                <p:outputPanel>
                                <div class="left">
                                    <h:commandLink rendered="#{userBean.model.rowCount ne 0}">
                                        <p:graphicImage value="/images/xls.png" />
                                        <p:dataExporter type="xls" target="userTable" fileName="userList" />
                                    </h:commandLink>
                                    <h:commandLink rendered="#{userBean.model.rowCount ne 0}">
                                        <p:graphicImage value="/images/pdf.png" />
                                        <p:dataExporter type="pdf" target="userTable" fileName="userList" />
                                    </h:commandLink>
                                    <h:commandLink rendered="#{userBean.model.rowCount ne 0}">
                                        <p:graphicImage value="/images/csv.png" />
                                        <p:dataExporter type="csv" target="userTable" fileName="userList" />
                                    </h:commandLink>
                                </div>
                                <span class="titlu">MEMBRII</span>
                                <p:menuButton value="Procese masive membri" styleClass="newActionSelectTable" icon="fa fa-plus">
                                    <p:menuitem value="Înregistrare masivă"  icon="fa fa-plus" action="#{procesoMasivoBean.getFormOperaMasiv(procesoMasivoBean.tipInregistrareMasivaUtilizator)}"  styleClass="sentenceText" />
                                    <p:menuitem value="Eliminare masivă" action="#{procesoMasivoBean.getFormOperaMasiv(procesoMasivoBean.esteEliminareMasiva)}"   icon="fa fa-trash" styleClass="sentenceText"/>
                                    <p:menuitem value="Blocare masivă" action="#{procesoMasivoBean.getFormOperaMasiv(procesoMasivoBean.esteBlocareMasiva)}"   icon="fa fa-pencil" styleClass="sentenceText"/>
                                </p:menuButton>
                                </p:outputPanel>
                        </f:facet>
                        <p:column headerText="Nume" sortBy="#{user.nume}" style="width:18%;" visible="#{userBean.list[0]}" exportable="#{userBean.list[0]}">
                                <h:outputText value="#{user.numeComplet}" />
                        </p:column>
                        <p:column headerText="Email" sortBy="#{user.username}" style="width:22%;" visible="#{userBean.list[1]}" exportable="#{userBean.list[1]}">
                                <h:outputText value="#{user.username}" />
                        </p:column>
                        <p:column headerText="Județul"  sortBy="#{user.localitate}" style="width:15%;" visible="#{userBean.list[2]}" exportable="#{userBean.list[2]}">
                                <h:outputText value="#{user.codJudet.nume}" />
                        </p:column>
                        <p:column headerText="Localitatea"   sortBy="#{user.localitate}" style="width:22%;" visible="#{userBean.list[3]}" exportable="#{userBean.list[3]}">
                                <h:outputText value="#{user.localitate.nume}" />
                        </p:column>
                        <p:column headerText="Blocat" sortBy="#{user.validat}" visible="#{userBean.list[4]}" exportable="#{userBean.list[4]}" style="width:10%;text-align:center;">
                                <h:outputText styleClass="fa fa-check-circle" rendered="#{user.validat}" />
                                <h:outputText styleClass="fa fa-times-circle" rendered="#{not user.validat}" />
                        </p:column>                                             
                        <p:column styleClass="butonTabla text-center" exportable="false" style="width:11%;" toggleable="false">
                                <h:commandLink title="Modificare membru"  styleClass="fa fa-fw fa-pencil ui-button ui-state-default ui-CommandLink modBtn ui-CommandLink-icono"
                                        action="#{userBean.getFormModificareUser(user)}" update="userTable" />
                                <p:commandButton title="Eliminare membru" rendered="#{user.validat}" icon="fa fa-trash" styleClass="modBtn"  actionListener="#{userBean.eliminareUtilizator(user)}" 
                                        update="userTable" oncomplete="$('.noResultMessage').css('opacity', 1)" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">                                                                
                                        <p:confirm header="Eliminare membru" message="Sunteți sigur că doriți să eliminați DEFINITIV acest membru?" icon="fa fa-warning-sign" />
                                </p:commandButton>
                                <p:commandButton title="Activare membru" rendered="#{not user.validat}" icon="fa fa-unlock-alt" styleClass="modBtn"  actionListener="#{userBean.activareUtilizator(user)}" 
                                        update="userTable" >                                                              
                                         <p:confirm header="Activare membru" message="Sunteți sigur că doriți să reactivați acest membru?" icon="fa fa-warning-sign" />
                             </p:commandButton>
                        </p:column>
                        <f:facet name="footer"> Numărul total: 
                             <h:outputText value="#{userBean.model.rowCount}">
                                <f:convertNumber type="number"   maxIntegerDigits="9"  maxFractionDigits="0"/>
                             </h:outputText> de membrii
                        </f:facet>
                </p:dataTable>
        </p:outputPanel>
        <p:dialog header="Procesare masivă" id="dlgProcseoMasivo" widgetVar="cdMasivo"  modal="true">           
                <h:outputText value="Alegeți metoda de introducere a datelor." />
                 <p:button  title="Obțineți utilizatorii pe ecran" value="Por pantalla"  outcome="/users/reg_masiva_file.xhtml?faces-redirect=true">
                   <f:param name="esteEliminare"  value="#{usuarioController.usuarioForm.esteEliminare}" />
                  </p:button>
        </p:dialog>
        <p:confirmDialog global="true">
           <div class="centrareButoaneDialog">
                <p:commandButton value="DA" type="button" styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
                <p:commandButton value="NU" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-remove" />
           </div>
        </p:confirmDialog>                                              
     </div>
   </h:form>
  </h:panelGrid>
  </p:tab>	
  <p:tab title="Conducerea locală" id="conducereaLocala" >
     <h:panelGrid columns="2" cellpadding="10">
	<h:form id="formConducereLocala">
        <p:importConstants type="ro.stad.online.gesint.constante.NumarMagic" var="NumeroMagic" />
        <div class="filtru">
                <div class="blocFormular">
                        <div class="titluFormular">Filtre căutare</div>
                           <div class="ui-g coloanaCautare">
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <h:outputLabel for="teamUserCl" value="Funcție:" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:selectOneMenu value="#{userBean.filtruUtilizatorLocal.idFunctia}" filter="true"  filterMatchMode="startsWith" id="teamUserCl" class="selectFiltru" style="min-width:initial;" >
                                          <f:selectItem itemLabel="Alege una..." itemValue="" />
                                          <f:selectItems value="#{userBean.listaFunctiiLocal}" var="team" itemLabel="#{team.nume}" itemValue="#{team.id}" />
                                        </p:selectOneMenu>
                                </div>
                         </div>                                         
                         <div class="ui-g coloanaCautare">
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <h:outputLabel for="nameCl" styleClass="cautator" value="Nume (Numele de familie):" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:inputText id="nameCl" converter="#{trimConverter}" value="#{userBean.filtruUtilizatorLocal.nume}" />
                                </div>
                        </div>
                        <div class="ui-g coloanaCautare">
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <h:outputLabel for="lastNameCl" styleClass="cautator" value="Prenume:" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:inputText id="lastNameCl" converter="#{trimConverter}" value="#{userBean.filtruUtilizatorLocal.prenume}" />
                                </div>
                        </div>                                  
                        <div class="ui-g coloanaCautare">
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <h:outputLabel for="emailCl" styleClass="cautator" value="Email:" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:inputText id="emailCl" converter="#{trimConverter}" value="#{userBean.filtruUtilizatorLocal.email}" />
                                </div>
                        </div>                                          
                        <div class="ui-g coloanaCautare">
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <h:outputLabel for="judeteSelectateCl" styleClass="cautator" value="Județul:" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">                                                   
                                      <p:selectOneMenu  value="#{userBean.filtruUtilizatorLocal.idJudet}"  id="judeteSelectateCl"
                                          class="selectFiltru" filter="true" filterMatchMode="startsWith">
                                          <f:selectItem itemLabel="Alege unul..." itemValue="" />
                                          <f:selectItems  value="#{userBean.judete}"  var="provincia" itemLabel="#{provincia.nume}"  itemValue="#{provincia.indicator}" />                       
                                      </p:selectOneMenu>                                                
                                </div>
                        </div>                                  
                        <div class="ui-g coloanaCautare">
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <h:outputLabel for="dateFromCl" value="Data înregistrării începând:" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:calendar id="dateFromCl" pattern="dd/MM/yyyy" locale="ro" navigator="true" maxdate="#{currentDate}" value="#{userBean.filtruUtilizatorLocal.dateFrom}" />
                                </div>
                        </div>
                        <div class="ui-g coloanaCautare">
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <h:outputLabel for="dateUntilCl" value="Data înregistrării până:" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:calendar id="dateUntilCl" pattern="dd/MM/yyyy" locale="ro" navigator="true" maxdate="#{currentDate}" value="#{userBean.filtruUtilizatorLocal.dateUntil}" />
                                </div>
                      </div>
                </div>
             <div class="butoaneFormular">
                <p:commandButton action="#{userBean.curatareCautare}" class="left" value="Curățare filtre" update="formConducereLocala" icon="fa fa-eraser" />
                <p:commandButton id="cautareButonCl" value="Căutare"  actionListener="#{userBean.cautareUtilizatorLocal}" update="@form" icon="fa fa-search"
                oncomplete="$('.mesajeFaraRezultate').css('opacity', 1)" onstart="PF('statusDialog').show()" class="right" onsuccess="PF('statusDialog').hide()"/>
            </div>
        </div>                  
        <div class="rezultateFiltru">
           <p:outputPanel layout="block" id="userPanelCl">
                <p:dataTable var="user" value="#{userBean.modelLocal}"  rows="10" id="userTableCl"  draggableColumns="true" 
                paginator="true" lazy="true" resizableColumns="true"  sortOrder="descending" styleClass="modHeaderTable"
                paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
                rowKey="#{user.username}" rowsPerPageTemplate="5, 15,25,50" pageLinks="4" paginatorPosition="bottom"
                emptyMessage="Nu există niciun rezultat care să corespundă parametrilor căutării dvs." paginatorAlwaysVisible="false">
                    <f:facet name="header">
                        <p:outputPanel>
                           <div class="left">
                                <h:commandLink >
                                        <p:graphicImage value="/images/xls.png" />
                                        <p:dataExporter type="xls" target="userTableCl" fileName="userList" />
                                </h:commandLink>
                                <h:commandLink >
                                        <p:graphicImage value="/images/pdf.png" />
                                        <p:dataExporter type="pdf" target="userTableCl" fileName="userList" />
                                </h:commandLink>
                                <h:commandLink >
                                        <p:graphicImage value="/images/csv.png" />
                                        <p:dataExporter type="csv" target="userTableCl" fileName="userList" />
                                </h:commandLink>
                         </div>
                           <span class="titlu">CONDUCEREA LOCALĂ</span>
                           <p:menuButton value="Opțiuni modificare membri" styleClass="newActionSelectTable" icon="fa fa-plus">
                             <p:menuitem value="Pozitie membru"  action="#{userBean.deschideDialogOrdenaMembru(userBean.listUsersLocal,userBean.filtruUtilizatorLocal.idJudet)}"  icon="fa fa-file-archive-o" styleClass="sentenceText" />
                           </p:menuButton>
                        </p:outputPanel>
                  </f:facet>
                <p:column headerText="Nume" sortBy="#{user.nume}" style="width:17%;" visible="#{userBean.list[0]}" exportable="#{userBean.list[0]}">
                        <b><h:outputText value="#{user.numeComplet}" /></b>
                </p:column>
                <p:column headerText="Funcția" sortBy="#{user.team}" style="width:28%;text-align:center;" visible="#{userBean.list[1]}" exportable="#{userBean.list[1]}">
                        <b><h:outputText value="#{user.team.nume}" /></b>
                </p:column>
                <p:column headerText="Email" sortBy="#{user.username}" style="width:22%;" visible="#{userBean.list[2]}" exportable="#{userBean.list[2]}">
                      <b><h:outputText value="#{user.username}" /></b>
                </p:column>
                <p:column headerText="Județul"  sortBy="#{user.codJudet}" style="width:14%;" visible="#{userBean.list[3]}" exportable="#{userBean.list[3]}">
                        <b><h:outputText value="#{user.codJudet.nume}" /></b>
                </p:column>
                <p:column headerText="Nivel"  sortBy="#{user.rank}" style="width:6%;text-align:center;" visible="#{userBean.list[4]}" exportable="#{userBean.list[4]}">
                        <h:outputText value="#{user.rank}" />
                </p:column>                                                                     
                <p:column styleClass="butonTabla text-center" exportable="false" style="width:11%;" toggleable="false">
                        <h:commandLink title="Modificare membru"  styleClass="fa fa-fw fa-pencil ui-button ui-state-default ui-CommandLink modBtn ui-CommandLink-icono"
                                action="#{userBean.getFormModificareUser(user)}" update="userTableCl" />
                        <p:commandButton title="Eliminare membru" rendered="#{user.validat}" icon="fa fa-trash" styleClass="modBtn"  actionListener="#{userBean.eliminareUtilizator(user)}" 
                                update="userTableCl" oncomplete="$('.noResultMessage').css('opacity', 1)" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">                                                                
                             <p:confirm header="Eliminare membru" message="Sunteți sigur că doriți să eliminați DEFINITIV acest membru din conducerea locală?" icon="fa fa-warning-sign" />
                        </p:commandButton>
                        <p:commandButton title="Activare membru" rendered="#{not user.validat}" icon="fa fa-unlock-alt" styleClass="modBtn"  actionListener="#{userBean.activareUtilizator(user)}" 
                                 update="userTableCl" oncomplete="$('.noResultMessage').css('opacity', 1)" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">                                                              
                              <p:confirm header="Activare membru" message="Sunteți sigur că doriți să reactivați acest membru?" icon="fa fa-warning-sign" />
                         </p:commandButton>
                </p:column>
                <f:facet name="footer">Numărul total:    
                        <h:outputText value="#{userBean.rowCountLocal}">
                                <f:convertNumber type="number" maxIntegerDigits="8" maxFractionDigits="0"/>
                        </h:outputText> de membrii în conducerea locală
                </f:facet>
            </p:dataTable>
        </p:outputPanel>                                
        <p:confirmDialog global="true">
            <div class="centrareButoaneDialog">
                <p:commandButton value="DA" type="button" styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
                <p:commandButton value="NU" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-remove" />
            </div>
        </p:confirmDialog>                                                              
     </div>                 
    </h:form>
     <h:form id="formOrdenaUsuarios">
        <p:dialog header="Modifică poziția membrului din conducerea organizației locale " widgetVar="dlgOrdena" dynamic="true" width="600" height="400">
              <p:outputPanel layout="block" id="panelTeam" styleClass="containerMargin">
                <p:orderList value="#{userBean.listUsersLocal}" var="usuario" itemValue="#{usuario}" converter="#{userConverter}" controlsLocation="none"
                responsive="true" styleClass="modListView">
                <p:ajax event="select" listener="#{userBean.onSelect}"  />
                 <p:ajax event="reorder" listener="#{userBean.onReorderCL}" />
                        <f:facet name="caption">Membrii echipei locale</f:facet>
                        <p:column style="width:30%">
                             <h:outputText value="#{usuario.numeComplet}" />
                        </p:column>
                        <p:column style="width:30%">
                           <h:outputText value="#{usuario.team.nume}" />
                        </p:column>
                </p:orderList>
           </p:outputPanel>                      
        </p:dialog>
      </h:form> 
     </h:panelGrid>
   </p:tab>	
   <p:tab title="Conducerea centrală" id="conducereaCentrala" >
     <h:panelGrid columns="2" cellpadding="10">
       <h:form id="formUtilizatoriCentral">      
        <div class="rezultateFiltruCentral">
            <p:outputPanel layout="block" id="userPanelCC">
                <p:dataTable var="user" value="#{userBean.listUsersCentral}"  rows="10" id="userTableCC"  draggableColumns="true" 
                 paginator="true" lazy="true" resizableColumns="true"  sortOrder="descending" styleClass="modHeaderTable"
                 paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
                 rowKey="#{user.username}" rowsPerPageTemplate="5, 15,25,50" pageLinks="4" paginatorPosition="bottom"
                  emptyMessage="Nu există niciun rezultat care să corespundă parametrilor căutării dvs." paginatorAlwaysVisible="false">
                        <f:facet name="header">
                             <p:outputPanel>
                                <div class="left">
                                        <h:commandLink >
                                           <p:graphicImage value="/images/xls.png" />
                                           <p:dataExporter type="xls" target="userTableCC" fileName="userList" />
                                        </h:commandLink>
                                        <h:commandLink >
                                           <p:graphicImage value="/images/pdf.png" />
                                           <p:dataExporter type="pdf" target="userTableCC" fileName="userList" />
                                        </h:commandLink>
                                        <h:commandLink >
                                           <p:graphicImage value="/images/csv.png" />
                                           <p:dataExporter type="csv" target="userTableCC" fileName="userList" />
                                        </h:commandLink>
                                </div>
                                <span class="titlu">CONDUCEREA CENTRALĂ</span>
                                <p:menuButton value="Opțiuni modificare membri" styleClass="newActionSelectTable" icon="fa fa-plus">
                                   <p:menuitem value="Pozitie membru"  action="#{userBean.deschideDialogOrdenaMembruCC(userBean.listUsersCentral)}"  icon="fa fa-file-archive-o" styleClass="sentenceText" />
                                </p:menuButton>
                             </p:outputPanel>
                        </f:facet>
                        <p:column headerText="Nume"  style="width:17%;" visible="#{userBean.list[0]}" exportable="#{userBean.list[0]}">
                                <b><h:outputText value="#{user.numeComplet}" /></b>
                        </p:column>
                        <p:column headerText="Funcția"  style="width:28%;text-align:center;" visible="#{userBean.list[1]}" exportable="#{userBean.list[1]}">
                                <b><h:outputText value="#{user.team.nume}" /></b>
                        </p:column>
                        <p:column headerText="Email"  style="width:22%;" visible="#{userBean.list[2]}" exportable="#{userBean.list[2]}">
                                <b><h:outputText value="#{user.username}" /></b>
                        </p:column>
                        <p:column headerText="Județul"  style="width:14%;" visible="#{userBean.list[3]}" exportable="#{userBean.list[3]}">
                                <b><h:outputText value="#{user.codJudet.nume}" /></b>
                        </p:column>
                        <p:column headerText="Rank"  style="width:6%;text-align:center;" visible="#{userBean.list[4]}" exportable="#{userBean.list[4]}">
                                <h:outputText value="#{user.rank}" />
                        </p:column>                                                                     
                        <p:column styleClass="butonTabla text-center" exportable="false" style="width:11%;" toggleable="false">
                                <h:commandLink title="Modificare membru"  styleClass="fa fa-fw fa-pencil ui-button ui-state-default ui-CommandLink modBtn ui-CommandLink-icono"
                                        action="#{userBean.getFormModificareUser(user)}" update="userTableCl" />
                                <p:commandButton title="Eliminare membru" rendered="#{user.validat}" icon="fa fa-trash" styleClass="modBtn"  actionListener="#{userBean.eliminareUtilizator(user)}" 
                                        update="userTableCC" oncomplete="$('.noResultMessage').css('opacity', 1)" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">                                                                
                                        <p:confirm header="Eliminare membru" message="Sunteți sigur că doriți să eliminați DEFINITIV acest membru din conducerea centrală?" icon="fa fa-warning-sign" />
                                </p:commandButton>
                                <p:commandButton title="Activare membru" rendered="#{not user.validat}" icon="fa fa-unlock-alt" styleClass="modBtn"  actionListener="#{userBean.activareUtilizator(user)}" 
                                       update="userTableCC" oncomplete="$('.noResultMessage').css('opacity', 1)" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()">                                                                
                                        <p:confirm header="Activare membru" message="Sunteți sigur că doriți să reactivați acest membru?" icon="fa fa-warning-sign" />
                                </p:commandButton>
                        </p:column>
                        <f:facet name="footer">Numărul total:    
                                <h:outputText value="#{userBean.rowCountCentral}">
                                        <f:convertNumber type="number" maxIntegerDigits="5" maxFractionDigits="0"/>
                                </h:outputText> de membrii în conducerea centrală
                        </f:facet>
           </p:dataTable>
        </p:outputPanel>                                
        <p:confirmDialog global="true">
                <div class="centrareButoaneDialog">
                        <p:commandButton value="DA" type="button" styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
                        <p:commandButton value="NU" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-remove" />
                </div>
         </p:confirmDialog>                                                             
    </div>                  
    </h:form>
     <h:form id="formOrdenaUsuariosCC">
        <p:dialog header="Modifică poziția membrului din conducerea organizației centrale " widgetVar="dlgOrdenaCC" dynamic="true" width="600" height="400">
           <p:outputPanel layout="block" id="panelTeam" styleClass="containerMargin">
                <p:orderList value="#{userBean.listUsersCentral}" var="utiliza" itemValue="#{utiliza}" converter="#{userConverter}" controlsLocation="none"
                        responsive="true" styleClass="modListView">
                   <p:ajax event="select" listener="#{userBean.onSelect}"  />
                   <p:ajax event="reorder" listener="#{userBean.onReorderCC}" />
                   <f:facet name="caption">Membrii echipei centrale</f:facet>
                        <p:column style="width:30%">
                           <h:outputText value="#{utiliza.numeComplet}" />
                         </p:column>
                          <p:column style="width:30%">
                            <h:outputText value="#{utiliza.team.nume}" />
                         </p:column>
                </p:orderList>
           </p:outputPanel>                      
        </p:dialog>
    </h:form>
  </h:panelGrid>
 </p:tab>				
</p:tabView>	
	<p:dialog id="dialog" widgetVar="dialogMessage" header="Informaţie" closable="false">
	    <p:messages for="dialogMessage" autoUpdate="true" showDetail="true" showSummary="true" />
	        <div class="centrareButoaneDialog">
	             <p:button value="Închideţi" outcome="/users/users" />
	        </div>
	</p:dialog>
	<p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
	   <p:graphicImage value="/images/loading.gif" />
	</p:dialog>                                     		
</ui:define>
</ui:composition>
